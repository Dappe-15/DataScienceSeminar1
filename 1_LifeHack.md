# LLM(大規模言語モデル)で知っておくべきライフハック
## 1.日本語のプロンプトよりも英語のプロンプトの方が回答の精度が良い
ChatGPTやGitHub Copilotなど、LLM（大規模言語モデル）は私たちの生活や仕事の中で、もはや欠かせないツールとなりつつあります。文章作成やアイデア出し、プログラミングの支援など、用途は日々広がっています。  

ところで、皆さんはこれらのツールにどの言語でプロンプト（入力）を投げていますか？  
おそらく多くの方は日本語を使っていることでしょう。日本語で気軽に使える点は大きな魅力ですが、実は**英語でプロンプトを書く方が、より精度の高い回答**を引き出せることが知られています。  

### 実例：Copilotでのアイデア出し  

**日本語：東京旅行で行くべき場所のアイデアを出してください。**  
<img src = "https://github.com/user-attachments/assets/5566fcfe-6f43-4c6d-a15a-27eecfdf13df" width = 50%>

**英語：Give us ideas of places to go on your Tokyo trip.**  
<img src = "https://github.com/user-attachments/assets/46699cc4-3fe7-404e-911d-fdab96dd8c13" width = 50%>

いかがでしょうか。  
日本語でのプロンプトではざっくりとした情報を教えてくれますが、英語の方がより具体的・詳細かつ多くの引用情報を元に出力してくれます。  
プロンプトから得られる意図としては、行くべき場所として具体的なものを求めていると感じられますので、英語の方が高い精度でプロンプトを読み取ってくれていませんか？  

これはなぜでしょうか？  

私はこれに二つの理由があると考えています。

### ①英語の方が学習データが多い
LLMの学習データはネット上にある膨大な量の文書データから構成されています。  
例えば、Google検索やWikipedia等です。  
身近なwikipediaでは日本語よりも明らかに英語の記事のほうが多いですよね！  
つまり学習データの大半は英語で構成されています。  
英語で入力されたプロンプトの方が、モデルにとって「自然で理解しやすい」構造になっており、その分的確な文脈把握や推論が行われやすくなっています。

### ②日本語が難しすぎる
日本語は難しすぎるというのもあります。
例えば、英語で”I”とは自分自身を指す一人称ですが、同じ意味を示す言葉が日本語では”わたし、私、わし、俺、僕、拙者、我”などなど枚挙に暇がないほどたくさんあります。  
自然言語処理においては文章の持つ意味を我々のようには扱えませんので、これらに関連はあってもうまく学習させることが難しいと言われています。  

他には、日本語には単語の間に**空白**がありませんよね。  
英語は単語の間にスペースがあるので一つの単語がどこからどこまでか分かり易いですが、日本語にはそのようなシステムはありません。  
自然言語処理では単語間の関連を学習するので、そもそも文章を単語に分割する(**Tokenize**)という処理が必要になります。  
これが中々面倒かつ精度が低いという問題があります。  
英語ではそもそもこんな処理を行わなくても空白が単語がどこからどこまでかを規定してくれるのでわかりやすいんですよね！  

よって、比較的分かり易い英語の方がモデルとしての完成度が高いというわけです！

-------
### 実用的なハック：英語が苦手でも大丈夫！
「英語で書いたほうがいいのは分かったけど、自信がない…」という方も多いかもしれません。  
そんなときは、まず日本語で書いてから、それをChatGPTやDeepLに英訳してもらうという方法がおすすめです。  

例：

> 日本語：「子育て中のママ向けの時短レシピアプリのアイデアを出して」  
> → ChatGPTやDeepL,Google翻訳で英語にする  
> → 英語に変換されたプロンプトで再度アイデアを求める  

これだけでも出力の質がグッと向上します。


## 2.曖昧な質問より「役割＋目的＋条件」を明確にすると効果倍増！
LLMを上手に使うためにはプロンプトにも工夫をします。  
これは英語でプロンプトを書くというだけでなく、**どんな役割をAIに持たせたいか**を明確にすることです！  
ChatGPTやCopilotはあなたのバックグラウンドを全く知りません。  
にも拘わらず、それをあたかも当たり前のようにプロンプトせず、アイデア出しを依頼してもなかなか思う様な出力はしてくれません。  
そこで、漠然とした指示よりも、**具体的な役割・目的・制約条件**を与えましょう。  
そうすると、より精度の高い応答が得られます。  

悪い例：  
　「いい感じの研究テーマを考えて」  
 >  × 「いい感じ」ってどういう意味？目新しさがあるということ？それとも社会に役立つということ？  
 >  × 「研究テーマ」ってどの分野の？社会学？生物学？宇宙工学？  
 >  ×　｢考えて｣というのは漠然とし過ぎていないか？どの様な情報が欲しいのか？  


良い例：  
　「あなたは○○株式会社の研究員です。△△の分野において□□をターゲットとした、食品に実装できる成分の研究を行いたいと考えています。最新の研究論文を元に新規性の高い研究テーマとその概要をいくつか提案してください。」  
 >  ✓ どんな研究テーマを提案してほしいか明確  
 >  ✓ 相手に持たせる役割が明瞭で具体的    
 >  ✓ 出力してほしい情報を宣言している

ここに使いやすいプロンプトフォーマットを置いておきますね  

```
あなたは[役割]です。以下の[目的]で、[条件]を守りながら、[出力形式]で答えてください。
目的：[例：就活用の自己PRを作成する]
条件：[例：200文字以内、ポジティブな印象、簡潔に]
出力形式：[例：箇条書き、ストーリースタイル、表形式など]
```

-------
### 実用的なハック：役割の粒度は？
LLMに何らかの役割を与えるとき、それを細かくしすぎるのも考え物です。  
例えば、あなたがある会社で遺伝子工学の研究を行っており、新しい分野での研究アイデアを模索しているとしましょう。  
そんな時に「あなたは○○株式会社での遺伝子工学者です。」とプロンプトしてしまうと、「○○株式会社」や「遺伝子工学」という単語に引っ張られた出力をしてしまうことでしょう。  
なので、与える役割は欲しい情報がどの程度入力した単語と関連させたいかも考えましょう。  
例えば、「○○株式会社」が化学メーカーなら「化学メーカー」と入力し、「遺伝子工学者」は「研究者」と言い換えれば視野を拡げた出力をしてくれることでしょう。



## 3. 長文の資料は「段階的プロンプト」で入力
ChatGPTやCopilotとは会話しながらほしい情報を出力させるようにしましょう。  
欲しい情報の粒度が細かすぎるあまり一度のプロンプト量が多くなってしまう事や、要約させたい文章量が多すぎるというのはLLMの初心者にはありがちです。~~僕は初心者じゃないのでしません！！！~~  
あまりにも長すぎると本当に必要な情報が抜け落ちてしまうことがあります。  
特に精度の高い文章要約を求める際には一度にすべての情報を入れるのではなく、3~4パラグラフずつ要約させましょう。  
そして最後に全体を要約させれば、正確で網羅的な要約を出力してくれるはずです！  

粒度の細かい情報を出力させるときにも役割や目的・制約条件を小出しにするのも有効です！  
また、出力が思ったようなものでない場合にも、それを修正するように働きかけてみましょう。  
たとえば、「吾輩は猫である」の内容を要約したい！とあなたが思ったとします。  


悪い例：  
　「一　吾輩は猫である。---中略---ありがたいありがたい。を要約してください。」   
 >  × プロンプトが長すぎる  
 >  × これでは起承転結の要約ではなく、全体の浅い情報となる可能性がある？     

良い例：  
　「一　吾輩は猫である。---後略--- を要約してください」    
 　｢二　吾輩は新年来多少有名になったので、猫ながらちょっと鼻が高く感ぜらるるのはありがたい。---後略---　を要約してください｣    
  ･･･  
  「以上１１章の起承転結を纏めてください」  
 >  ✓ 長すぎる文章を断片化   
 >  ✓ 最後にパラグラフごとの要約を要約  

論文要約を行う際にもセクションやパラグラフごとにプロンプトすると、研究全体についてメモリに記録してくれるため、より高い精度で要約してくれます！


------

# 4. 画像でプロンプトを行う
プロンプトは必ずしも言語化しなくてはならないということはありません。  
昨今のLLMの進化により、画像を入力することも可能になっています。  

手持ちの表や図について聞きたいのに、なかなか言語化が難しく、ChatGPTやCopilotの使用をあきらめた経験はありませんか？  
そんなときには画像で入力することも視野に入れてみましょう。  

言葉よりも解像度は下がってしまうかもしれませんが、想像以上に理解してくれますよ！  

例えば、PI3K-Akt signal pathwayの画像をここに示します。  
<img src= "https://github.com/user-attachments/assets/1a5be90d-904c-4a9e-91c1-59b060dd005b" width = 50%>  
([https://jp.sinobiological.com/pathways/akt-signaling-pathway]　より引用)  
PI3K-Akt signal pathwayは非常に基本的な細胞増殖やタンパク質合成に関連する経路ではありますが、ここに記されているすべての情報をプロンプトするのは現実的とは到底思えませんよね...  

では実際にCopilotにプロンプトしてみましょう。  
プロンプト：**[画像] この画像の内容についてまとめてください**  
今回は、そもそも生物学の画像かどうかまで判断できるということを示したいので言葉は最小限にしました！  
<img src = "https://github.com/user-attachments/assets/29bae518-f28a-4ae6-97e2-28b05c7aa5f6" width = 50%>  

いかがでしょうか。  
画像が何の分野について書かれているか、それが何を意味しているかを完璧に把握し、それの内容について解説してくれました！  
ありがたいですね...  

他にも、あなたがもしパワポ等でFigureを作製している中で、それの視認性がわからないということに出くわしたとしましょう。  
そんな時にも、修正案や**修正後の画像**も出力してくれるんです！  

例えば、視認性が明らかに悪いパワポをここに示します。  
<img src = "https://github.com/user-attachments/assets/f6e098cc-9659-4e7c-8652-c4391b7ab982" width = 50%>  
これをCopilotにプロンプトし、視認性が悪いと思われたら修正してもらいましょう。  

プロンプト：**[画像] こちらは現在作成中のパワーポイントの雛形です。視認性に問題はないでしょうか。問題がある場合には視認性がよくなるようにどのようにすればよいかの案と、それを満たした雛形の例を画像として出力してください。**  

<details><summary>出力</summary>
画像を確認したところ、以下の視認性に関するポイントが見受けられました：

---

### 🔍 **視認性の評価**

#### ✅ 良い点：
- 箇条書きが整っており、情報が整理されている。
- レイアウトがシンプルで、内容に集中しやすい。

#### ⚠️ 改善が必要な点：
1. **フォントサイズと種類**  
   → 現在のフォントサイズがやや小さく、遠くからの視認性が低い可能性があります。  
   → フォント種類も視認性の高い「メイリオ」や「游ゴシック」などに変更すると効果的です。

2. **色のコントラスト**  
   → 背景と文字色のコントラストが弱い場合、読みづらくなります。  
   → 白背景に黒文字、または濃い背景に白文字など、明確なコントラストを推奨します。

3. **余白と行間**  
   → 行間が詰まりすぎていると、情報が密集して見えるため、適度な余白を設けると視認性が向上します。

4. **タイトルや強調の工夫**  
   → スライドのタイトルが目立っていないため、フォントサイズや色で強調すると良いです。

---

### 💡 **改善案のまとめ**
- フォントサイズ：最低でも24pt以上
- フォント種類：メイリオ、游ゴシックなど
- 色使い：背景と文字のコントラストを強く
- 行間：1.5倍程度に設定
- タイトル：太字＋色変更で強調

---

次に、これらの改善案を反映した雛形の例を画像として生成します。少々お待ちください。

こちらが、視認性を高めるための改善案を反映したパワーポイント雛形の例です。画像の生成が完了するまで少々お待ちください。  
<img src = "https://github.com/user-attachments/assets/e5ef49d9-c786-447c-9a30-a1cfb9ef8e27" width = 50%>

</details>

いかがでしょうか。  
明らかに悪いコントラストだけでなく、視認性の問題としてフォントなどの要素も取り上げてくれました。  
さらに、それらの改善案を反映したパワポの画像までわかりやすく示してくれています！  

少し前までは画像の認識能はあまり高くなかったのですが、現在では考えられないほど高くなっています！！！  


このように、プロンプトは必ずしも言葉である必要はなく、画像での入力も選択肢の一つとして強力であることが伺えるかと思います！
